@using Telerik.DataSource;
@using Telerik.DataSource.Extensions

<TelerikGrid @ref="@GridRef"
             Data="@Generators"
             Pageable="true"
             Sortable="true"
             FilterMode="GridFilterMode.FilterMenu"
             Resizable="true"
             Reorderable="true"
             OnRowRender="@OnRowRender"
>

    @*  **************************************** Tool Bar **************************************** *@
    <GridToolBarTemplate>
        
        @* ******** Excel Button *@
        <GridCommandButton Command="ExcelExport" Icon="@SvgIcon.FileExcel">Export to Excel</GridCommandButton>

        @* ******** AutoFill Button *@
        <TelerikButton OnClick="AutoFitAllColumns" >AutoFit All Columns</TelerikButton>

        @* ******** Clear All filters Button *@
        <TelerikButton ThemeColor="primary" OnClick="@ClearGridFilter">Clear Filters</TelerikButton>
    
    </GridToolBarTemplate>

    <GridExport>
        <GridExcelExport FileName="@strExcelFileName" AllPages="true"
                         OnBeforeExport="@(()=> { strExcelFileName=CreateExcelFileName(); } )" />
    </GridExport>

   @*  **************************************** Columns **************************************** *@
    
   <GridColumns>
         @* Gen Number is a HyperLink to the Generator Details Page *@
        <GridColumn Field="@nameof(ModtblGenerator.GenNum)" Title="Gen Number" HeaderClass="header" Class=""/>
        <GridColumn Field="@nameof(ModtblGenerator.GenName)" Title="Generator Name" HeaderClass="header" class=""/>
        <GridColumn Field="@nameof(ModtblGenerator.GenNum)" Title="Gen Number" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.Street)" Title="Street" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.City)" Title="City" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.Province)" Title="Province" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.Country)" Title="Country" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.PostalCode)" Title="Postal Code" HeaderClass="header" />
        <GridColumn Field="@nameof(ModtblGenerator.WasteClasses)" Title="Waste Classes" HeaderClass="header" Filterable="false" Width="250px" />
    </GridColumns>
</TelerikGrid>



<style>
    .header {
        font-weight: bold;
        color: black;
    }

    /* OnRowRender */
    .k-grid tr.custom-ellipsis .k-table-td {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    } */
</style>
